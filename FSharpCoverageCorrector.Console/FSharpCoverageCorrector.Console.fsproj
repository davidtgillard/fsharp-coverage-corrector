<Project Sdk="Microsoft.NET.Sdk">
    
    <PropertyGroup>
        <OutputType>Exe</OutputType>
        <TargetFramework>net5.0</TargetFramework>
        <ToolCommandName>fsharp-coverage-corrector</ToolCommandName>
        <PackAsTool>true</PackAsTool>
        <AssemblyTitle>fsharp-coverage-corrector.console</AssemblyTitle>
        <Description>Command-line tool for performing some corrections on F# coverage output generated with code coverage tools (such as coverlet). Presently only supports cobertura format output.</Description>
    </PropertyGroup>
  
    <!-- Package information -->
    <PropertyGroup>
      <PackageId>FsharpCoverageCorrector.Console</PackageId>
      <AllowedOutputExtensionsInPackageBuildOutputFolder>$(AllowedOutputExtensionsInPackageBuildOutputFolder);.pdb;.xml</AllowedOutputExtensionsInPackageBuildOutputFolder>
    </PropertyGroup>

    <!-- Import the common assembly information-->
    <Import Project="..\GlobalInfo\GlobalAssemblyInfo.proj" />
    
    <PropertyGroup>
        <RollForward>Major</RollForward>
        <WarnOn>3390;$(WarnOn)</WarnOn>
    </PropertyGroup>
    
    <!-- Nuget package properties -->
    <PropertyGroup>
        <PackageId>$(AssemblyTitle)</PackageId>
        <Description>FSharp Coverage Corrector is a tool for correcting the coverage generated by .NET coverage tools for F#.</Description>
    </PropertyGroup>

    <!-- generate nuget package when building in release mode -->
    <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
        <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    </PropertyGroup>

    <ItemGroup>
      <Compile Include="Program.fs" />
    </ItemGroup>

     <ItemGroup>
      <ProjectReference Include="..\FSharpCoverageCorrector.Core\FSharpCoverageCorrector.Core.fsproj" />
    </ItemGroup>

     <ItemGroup>
       <PackageReference Update="FSharp.Core" Version="5.0.2" />
     </ItemGroup>



</Project>
